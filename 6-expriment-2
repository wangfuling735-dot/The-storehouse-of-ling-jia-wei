#include<stdio.h>
#include<stdlib.h>

    int main () 
{
    int a,b,c,d,x,y,e,f,g;
    char A[999][999]={
               {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
               {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
   {"_______________________________________________________________________________________________________________________"},
               {"|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |"},
    {"_______________________________________________________________________________________________________________________"}
    };


     a=0;
     b=0;
    for (a=0;a<40;a++)
    {for (b=0;b<999;b++){
    if (A[a][b]=='\0'){break;}
    printf("%c",A[a][b]);}
    printf("\n");
    };                                                                       

    printf("白子先行，而你是先手，请白子选手落子，输入行数与列数\n");

    scanf("%d",&a);e=a;
    printf("\n");
    scanf("%d",&b);f=b;
    printf("\n");
    x=a*2-1;      e=a;                                                                    
    y=b*3-1;      f=b;
    A[x][y]='E';

    for (a=0;a<40;a++)
    {for (b=0;b<999;b++){
    if (A[a][b]=='\0'){break;}                                                  
    printf("%c",A[a][b]);}
    printf("\n");
    };


Black:
    printf("轮到黑子落子\n");
Restart: 
    g++;                                        //机器人认输指数积累
    if (g>10000){printf("机器人认输了\n");   goto End;}
    a=rand()%3+e;
    b=rand()%3+f;                                                                              
    x=a*2-1;
    y=b*3-1;
    
    if (A[x][y]!='E' && A[x][y]!='D'){
    A[x][y]='D';}
    else {goto Restart;}


    for (a=0;a<40;a++)
    {for (b=0;b<999;b++){
    if (A[a][b]=='\0'){break;}                                               
    printf("%c",A[a][b]);}
    printf("\n");
    };

    for (c=1;c<20;c=c+2)
    {
    for (d=0;d<122;d++)
    {
        if (A[c][d]=='D'){
        if (A[c][d+3]=='D'){if (A[c][d+6]=='D'){if (A[c][d+9]=='D'){if (A[c][d+12]=='D'){printf("black方胜\n");goto End;}}}};
        if (A[c+2][d+3]=='D'){if (A[c+4][d+6]=='D'){if (A[c+6][d+9]=='D'){if (A[c+8][d+12]=='D'){printf("black方胜\n");goto End;}}}};
        if (A[c-2][d+3]=='D'){if (A[c-4][d+6]=='D'){if (A[c-6][d+9]=='D'){if (A[c-8][d+12]=='D'){printf("black方胜\n");goto End;}}}};
        }

    }
    }

Waite:
    g=0;                                            //机器人认输指数重置
    printf ("轮到白子落子");
    scanf("%d",&a);e=a;
    printf("\n");
    scanf("%d",&b);f=b;                                                            
    x=a*2-1;
    y=b*3-1;
    if (A[x][y]=='D'){printf("你下别人下过的地方想干嘛，重新落子\n"); goto Waite;} 
    A[x][y]='E';

    for (a=0;a<40;a++)
    {for (b=0;b<999;b++){
    if (A[a][b]=='\0'){break;}                                          
    printf("%c",A[a][b]);}
    printf("\n");
    };


    for (c=1;c<20;c=c+2)                                                 
    {
    for (d=0;d<122;d++)
    {
        if (A[c][d]=='E'){
        if (A[c][d+3]=='E'){if (A[c][d+6]=='E'){if (A[c][d+9]=='E'){if (A[c][d+12]=='E'){printf("白方胜\n");goto End;}}}};
        if (A[c+2][d+3]=='E'){if (A[c+4][d+6]=='E'){if (A[c+6][d+9]=='E'){if (A[c+8][d+12]=='E'){printf("白方胜\n");goto End;}}}};
        if (A[c-2][d+3]=='E'){if (A[c-4][d+6]=='E'){if (A[c-6][d+9]=='E'){if (A[c-8][d+12]=='E'){printf("白方胜\n");goto End;}}}};
        }

	    }


    }

    goto Black;


End:
    printf("\n");
    return 0;


}
